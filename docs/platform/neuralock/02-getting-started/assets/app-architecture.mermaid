graph TB
    subgraph "Frontend Layer"
        UI[React UI<br/>Document Management]
        Wallet[Web3 Wallet<br/>MetaMask]
        State[State Management<br/>React Query]
    end
    
    subgraph "Application Services"
        NeuralockSDK[Neuralock SDK<br/>@neuralock/client]
        IPFSClient[IPFS Client<br/>Pinata/Web3.Storage]
        ContractClient[Contract Client<br/>ethers.js]
    end
    
    subgraph "Smart Contracts"
        DocVault[DocumentVault.sol<br/>NFT + Access Control]
        Registry[Neuralock Registry<br/>Server Directory]
        AppContract[Application Contract<br/>INeuralock Interface]
    end
    
    subgraph "Storage Layer"
        IPFS[IPFS Network<br/>Decentralized Storage]
        Metadata[(Metadata<br/>Title, Type, Size)]
        Encrypted[(Encrypted Content<br/>AES-256-GCM)]
    end
    
    subgraph "Neuralock Network"
        Server1[Server 1<br/>Key Share 1]
        Server2[Server 2<br/>Key Share 2]
        Server3[Server 3<br/>Key Share 3]
    end
    
    subgraph "User Features"
        Create[Create Document]
        Encrypt[Encrypt Content]
        Share[Share Access]
        View[View/Decrypt]
    end
    
    %% User interactions
    UI --> Create
    UI --> Share
    UI --> View
    
    %% Wallet connections
    UI --> Wallet
    Wallet --> ContractClient
    
    %% Service connections
    UI --> State
    State --> NeuralockSDK
    State --> IPFSClient
    State --> ContractClient
    
    %% Encryption flow
    Create --> Encrypt
    Encrypt --> NeuralockSDK
    NeuralockSDK --> Server1
    NeuralockSDK --> Server2
    NeuralockSDK --> Server3
    
    %% Contract interactions
    ContractClient --> DocVault
    DocVault --> AppContract
    AppContract --> Registry
    
    %% Storage flow
    IPFSClient --> IPFS
    IPFS --> Metadata
    IPFS --> Encrypted
    
    %% Decryption flow
    View --> NeuralockSDK
    NeuralockSDK -.->|Retrieve Shares| Server1
    NeuralockSDK -.->|Retrieve Shares| Server2
    NeuralockSDK -.->|Retrieve Shares| Server3
    
    style UI fill:#e1f5e1
    style DocVault fill:#ffe1e1
    style NeuralockSDK fill:#e1e1ff
    style Server1 fill:#f1e1ff
    style Server2 fill:#f1e1ff
    style Server3 fill:#f1e1ff