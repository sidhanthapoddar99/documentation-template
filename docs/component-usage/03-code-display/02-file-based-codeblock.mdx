---
id: file-based-codeblock
title: File-Based CodeBlock
description: Display code from external files with automatic language detection
sidebar_position: 2
---

import { FileCollapsibleCodeBlock, FileInlineCodeCard } from '@site/src/components/elements/CodeBlock';
import { Callout } from '@site/src/components/elements/Callout';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# File-Based CodeBlock

The File-Based CodeBlock components allow you to display code from external files with automatic language detection and syntax highlighting.

## Features

- üìÅ Load code from external files
- üîç Automatic language detection from filename
- üéØ Manual language override option
- üé® Same styling as inline code blocks

## Method 1: Using Code Blocks in MDX

The simplest way to include external code is to copy it into your MDX file:

<FileCollapsibleCodeBlock 
  content={`// Example NeuraLabs Agent Implementation
import { NeuraLabs, Agent } from '@neuralabs/sdk';

class TradingAgent extends Agent {
  constructor(config) {
    super(config);
    this.marketData = [];
    this.positions = {};
  }

  async analyze(data) {
    // Implement your trading logic here
    const signals = await this.calculateSignals(data);
    
    if (signals.confidence > 0.8) {
      return this.executeTrade(signals);
    }
    
    return null;
  }

  calculateSignals(data) {
    // Simple moving average crossover strategy
    const shortMA = this.movingAverage(data, 10);
    const longMA = this.movingAverage(data, 50);
    
    return {
      action: shortMA > longMA ? 'BUY' : 'SELL',
      confidence: Math.abs(shortMA - longMA) / longMA,
      price: data[data.length - 1].price
    };
  }

  movingAverage(data, period) {
    const prices = data.slice(-period).map(d => d.price);
    return prices.reduce((a, b) => a + b, 0) / prices.length;
  }
}

export default TradingAgent;`}
  filename="example-agent.js"
  description="Complete trading agent implementation"
/>

```jsx
<FileCollapsibleCodeBlock 
  content={`// Your code here as a string`}
  filename="example-agent.js"
  description="Complete trading agent implementation"
/>
```

## Method 2: Using MDX Imports (Recommended)

For better maintainability, you can import code snippets as React components:

### Step 1: Create a Code Snippet Component

Create a file `CodeSnippets.js` in your docs folder:

```javascript
// docs/component-usage/03-code-display/assets/CodeSnippets.js
export const ExampleAgentCode = `// Example NeuraLabs Agent Implementation
import { NeuraLabs, Agent } from '@neuralabs/sdk';

class TradingAgent extends Agent {
  // ... your code here
}

export default TradingAgent;`;

export const NeuralProcessorCode = `"""
NeuraLabs Neural Processor Module
Handles AI model inference and processing
"""

import numpy as np
from typing import List, Dict, Any
import asyncio

class NeuralProcessor:
    # ... your code here
`;
```

### Step 2: Import and Use in MDX

```jsx
import { ExampleAgentCode, NeuralProcessorCode } from './assets/CodeSnippets';

<FileCollapsibleCodeBlock 
  content={ExampleAgentCode}
  filename="example-agent.js"
  description="Complete trading agent implementation"
/>
```

## Basic Usage

### FileCollapsibleCodeBlock

<FileCollapsibleCodeBlock 
  content={`const config = {
  apiKey: process.env.NEURA_API_KEY,
  network: 'mainnet',
  options: {
    timeout: 30000,
    retries: 3
  }
};`}
  filename="config.js"
  description="Basic configuration example"
/>

```jsx
<FileCollapsibleCodeBlock 
  content={configCode}
  filename="config.js"
  description="Basic configuration example"
/>
```

### FileInlineCodeCard

<FileInlineCodeCard
  content={`"""
NeuraLabs Neural Processor Module
Handles AI model inference and processing
"""

import numpy as np
from typing import List, Dict, Any
import asyncio

class NeuralProcessor:
    def __init__(self, model_path: str, config: Dict[str, Any]):
        self.model_path = model_path
        self.config = config
        self.model = None
        self.is_loaded = False`}
  filename="neural_processor.py"
  description="Neural network processor for AI inference"
  defaultExpanded={true}
/>

```jsx
<FileInlineCodeCard
  content={pythonCode}
  filename="neural_processor.py"
  description="Neural network processor for AI inference"
  defaultExpanded={true}
/>
```

## Manual Language Override

You can manually specify the language, which takes precedence over automatic detection:

<FileCollapsibleCodeBlock 
  content={`# Code Display Component Examples

This directory contains example files demonstrating the file-based CodeBlock component functionality.

## Available Examples

### JavaScript Example
- **File**: \`example-agent.js\`
- **Description**: A complete trading agent implementation using the NeuraLabs SDK`}
  filename="README.txt"
  language="markdown"
  title="Markdown with .txt Extension"
  description="Manual language override example"
  defaultCollapsed={false}
/>

```jsx
<FileCollapsibleCodeBlock 
  content={readmeContent}
  filename="README.txt"
  language="markdown"  // Manual override
  title="Markdown with .txt Extension"
  description="Manual language override example"
/>
```

## Language Detection

The component automatically detects languages based on file extensions:

| Extension | Language | Example |
|-----------|----------|---------|
| `.js`, `.jsx` | JavaScript | `example.js` |
| `.ts`, `.tsx` | TypeScript | `component.tsx` |
| `.py` | Python | `script.py` |
| `.rs` | Rust | `lib.rs` |
| `.md`, `.mdx` | Markdown | `README.md` |
| `.json` | JSON | `config.json` |
| `.yaml`, `.yml` | YAML | `docker-compose.yaml` |
| `.css`, `.scss` | CSS | `styles.css` |
| `.sh`, `.bash` | Bash | `install.sh` |
| `.move` | Move/Rust | `module.move` |
| `.txt` | Text | `notes.txt` |

## Props Reference

### FileCollapsibleCodeBlock Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `content` | `string` | - | **Required.** The code content to display |
| `filename` | `string` | - | Filename for display and language detection |
| `title` | `string` | filename | Title displayed in the header |
| `description` | `string` | `Source: {filename}` | Description text |
| `language` | `string` | auto-detected | Manual language override (takes precedence) |
| `defaultCollapsed` | `boolean` | `true` | Initial collapsed state |

### FileInlineCodeCard Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `content` | `string` | - | **Required.** The code content to display |
| `filename` | `string` | - | Filename for display and language detection |
| `title` | `string` | filename | Title displayed in the header |
| `description` | `string` | `Source: {filename}` | Description text |
| `language` | `string` | auto-detected | Manual language override (takes precedence) |
| `defaultExpanded` | `boolean` | `false` | Initial expanded state |

## Best Practices

<Callout type="success" title="Do's">

1. **Keep code organized** in separate files
   ```javascript
   // CodeSnippets.js
   export const myCode = `...`;
   ```

2. **Use meaningful filenames** for automatic language detection
   ```jsx
   filename="trading-agent.js"  // JavaScript detected
   filename="config.yaml"       // YAML detected
   ```

3. **Use manual language override** when needed
   ```jsx
   language="javascript"  // For files with unconventional extensions
   ```

4. **Provide descriptive titles and descriptions**
   ```jsx
   title="Production Configuration"
   description="Complete setup for production environment"
   ```

</Callout>

<Callout type="warning" title="Don'ts">

1. **Don't include very large code blocks** inline - use separate files
2. **Don't forget to escape backticks** in template literals
3. **Don't mix different languages** in the same code block

</Callout>

## Use Cases

### 1. Configuration Examples

<FileCollapsibleCodeBlock 
  content={`{
  "name": "neuralabs-agent",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "jest"
  },
  "dependencies": {
    "@neuralabs/sdk": "^2.1.0",
    "dotenv": "^16.0.0"
  }
}`}
  filename="package.json"
  title="Package Configuration"
  description="Example package.json for a NeuraLabs agent"
/>

### 2. Multi-Language Examples

<Tabs>
<TabItem value="js" label="JavaScript">

<FileCollapsibleCodeBlock 
  content={`// JavaScript implementation
class TradingAgent {
  constructor(config) {
    this.config = config;
  }
  
  async execute() {
    // Implementation
  }
}`}
  filename="agent.js"
  defaultCollapsed={false}
/>

</TabItem>
<TabItem value="python" label="Python">

<FileCollapsibleCodeBlock 
  content={`# Python implementation
class TradingAgent:
    def __init__(self, config):
        self.config = config
    
    async def execute(self):
        # Implementation
        pass`}
  filename="agent.py"
  defaultCollapsed={false}
/>

</TabItem>
</Tabs>

## Language Override Priority

The language is determined in this order:
1. **Manual `language` prop** (highest priority)
2. **Automatic detection from `filename`**
3. **Default fallback** (`'text'`)

Example:
```jsx
// Even though filename suggests JavaScript, markdown will be used
<FileCollapsibleCodeBlock
  content={content}
  filename="script.js"
  language="markdown"  // This takes precedence
/>
```

## Creating Reusable Code Snippets

For frequently used code examples, create a central repository:

```javascript
// docs/shared/codeExamples.js
export const codeExamples = {
  basicConfig: `const config = { ... }`,
  agentSetup: `const agent = new Agent({ ... })`,
  errorHandling: `try { ... } catch (error) { ... }`
};
```

Then import and use throughout your documentation:

```jsx
import { codeExamples } from '@site/docs/shared/codeExamples';

<FileCollapsibleCodeBlock
  content={codeExamples.basicConfig}
  filename="config.js"
/>
```

## Summary

File-based CodeBlocks provide:
- Clean separation of code and documentation
- Automatic language detection with manual override
- Consistent styling with inline blocks
- Full control over display properties
- Reusable code snippets

Use them whenever you want to display code with proper syntax highlighting and organization.