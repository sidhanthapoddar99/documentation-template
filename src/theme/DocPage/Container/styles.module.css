/* DocPage Container - Main layout constraints */

/* CSS Variables for layout dimensions */
:root {
  --doc-sidebar-width: 300px;
  --doc-toc-width: 200px;
  --doc-content-max-width: 860px;
  --doc-navbar-height: 108px;
  --doc-container-max-width: var(--max-width-7xl);
  --doc-spacing-horizontal: var(--ifm-spacing-horizontal);
}

/* Override Docusaurus default styles to prevent sidebar from escaping */
:global(.docPage) {
  display: flex;
  width: 100%;
}

/* Main container wrapper that contains everything */
.docPageContainer {
  width: 100%;
  min-height: 100vh;
  background-color: var(--theme-bg-primary);
  display: flex;
  flex-direction: column;
}

/* Inner container with max-width constraint */
.docPageInner {
  width: 100%;
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Override the default docs wrapper to contain everything */
:global(.docsWrapper) {
  max-width: var(--doc-container-max-width) !important;
  margin: 0 auto !important;
  width: 100% !important;
  display: flex !important;
  padding: 0 var(--doc-spacing-horizontal) !important;
  position: relative !important;
}

/* Ensure the main container takes full width within constraints */
:global(.docMainContainer) {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  width: 100% !important;
  max-width: 100% !important;
}

/* Override sidebar positioning to keep it within container */
:global(.theme-doc-sidebar-container) {
  position: sticky !important;
  top: var(--doc-navbar-height) !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  width: var(--doc-sidebar-width) !important;
  flex-shrink: 0 !important;
  margin: 0 !important;
}

/* Ensure TOC stays within container */
:global(.theme-doc-toc-desktop) {
  position: sticky !important;
  width: var(--doc-toc-width) !important;
  flex-shrink: 0 !important;
}

/* Main content area */
:global(.docItemContainer) {
  flex: 1 !important;
  min-width: 0 !important;
  padding: 0 !important;
}

/* Remove any absolute positioning that might escape container */
:global(*) {
  max-width: 100%;
}

/* Responsive adjustments */
@media (max-width: 996px) {
  :root {
    --doc-navbar-height: var(--ifm-navbar-height);
  }
  
  :global(.docsWrapper) {
    flex-direction: column !important;
    padding: 0 !important;
  }
  
  :global(.theme-doc-sidebar-container) {
    position: fixed !important;
    top: var(--ifm-navbar-height) !important;
    height: 100vh !important;
    width: 100% !important;
    max-width: 320px !important;
    left: 0 !important;
    transform: translateX(-100%) !important;
    transition: transform var(--ifm-transition-fast) !important;
    z-index: var(--ifm-z-index-overlay) !important;
  }
  
  :global(.theme-doc-sidebar-container--visible) {
    transform: translateX(0) !important;
  }
}

/* Large desktop adjustments */
@media (min-width: 1440px) {
  :global(.docsWrapper) {
    padding: 0 calc(var(--doc-spacing-horizontal) * 2) !important;
  }
}