/* DocPage Layout - Proper containment and alignment */

/* Use attribute selectors to work regardless of class hashing */
:global([class*="docsWrapper"]) {
  display: flex !important;
  max-width: var(--max-width-7xl) !important;
  margin: 0 auto !important;
  width: 100% !important;
  position: relative !important;
  padding: 0 var(--ifm-spacing-horizontal) !important;
  min-height: calc(100vh - var(--doc-navbar-height)) !important;
}

/* Main container wrapper */
:global([class*="docMainContainer"]) {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  width: 100% !important;
}

/* Sidebar positioning */
:global(.theme-doc-sidebar-container) {
  position: sticky !important;
  top: var(--doc-navbar-height) !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  width: 240px !important;
  min-width: 240px !important;
  max-width: 240px !important;
  flex: 0 0 240px !important;
  flex-shrink: 0 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  border-right: 1px solid var(--theme-border-subtle) !important;
  background-color: var(--theme-bg-surface) !important;
}

/* Fix sidebar internal nav width */
:global(.theme-doc-sidebar-container nav) {
  width: 240px !important;
  max-width: 240px !important;
}

/* Fix sidebar hidden drawer width */
:global(.theme-doc-sidebar-container [class*="hiddenSidebarContainer"]) {
  width: 240px !important;
  max-width: 240px !important;
}

/* Content area */
:global([class*="docItemContainer"]) {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  flex-direction: row !important;
  overflow: visible !important;
}

/* Content wrapper */
:global([class*="docItemWrapper"]) {
  flex: 1 !important;
  min-width: 0 !important;
  padding: 2rem 3rem !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* Article constraint */
:global(article) {
  max-width: var(--doc-content-max-width) !important;
  margin: 0 auto !important;
  width: 100% !important;
}

/* TOC positioning */
:global(.theme-doc-toc-desktop) {
  position: sticky !important;
  top: var(--doc-navbar-height) !important;
  width: var(--doc-toc-width) !important;
  flex-shrink: 0 !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding-left: 2rem !important;
}

/* Override any absolute positioning */
:global([class*="docRoot"]) {
  display: flex !important;
  max-width: var(--max-width-7xl) !important;
  margin: 0 auto !important;
  width: 100% !important;
  padding: 0 var(--ifm-spacing-horizontal) !important;
}

/* Mobile styles */
@media (max-width: 996px) {
  :global([class*="docsWrapper"]) {
    padding: 0 !important;
  }
  
  :global([class*="docRoot"]) {
    padding: 0 !important;
  }
  
  :global(.theme-doc-sidebar-container) {
    position: fixed !important;
    width: 100% !important;
    max-width: 320px !important;
    left: 0 !important;
    transform: translateX(-100%) !important;
    transition: transform var(--ifm-transition-fast) !important;
    z-index: var(--ifm-z-index-overlay) !important;
  }
  
  :global(.theme-doc-sidebar-container[class*="visible"]) {
    transform: translateX(0) !important;
  }
  
  :global([class*="docItemWrapper"]) {
    padding: 1.5rem !important;
  }
  
  :global(.theme-doc-toc-desktop) {
    display: none !important;
  }
}

/* Heading numbering styles */
:global(.heading-number) {
  color: var(--theme-text-muted);
  font-weight: 500;
  margin-right: 0.5rem;
  opacity: 0.7;
  font-size: 0.9em;
}

/* Menu styling improvements */
:global(.theme-doc-sidebar-menu) {
  padding: 0.75rem !important;
  font-size: 0.875rem !important;
}

:global(.menu__link) {
  color: var(--theme-text-secondary) !important;
  padding: 0.4rem 0.75rem !important;
  border-radius: var(--ifm-global-radius) !important;
  transition: all var(--transition-fast) !important;
  font-weight: 500 !important;
  display: block !important;
  font-size: 0.875rem !important;
}

:global(.menu__link:hover) {
  background-color: var(--theme-bg-primary) !important;
  color: var(--theme-text-primary) !important;
  text-decoration: none !important;
}

:global(.menu__link--active) {
  background-color: var(--color-brand-primary) !important;
  color: white !important;
}

:global(.menu__link--active:hover) {
  background-color: var(--color-brand-primaryHover) !important;
  color: white !important;
}

/* Category styling */
:global(.menu__list-item-collapsible) {
  margin-bottom: 0.125rem !important;
}

:global(.menu__list-item-collapsible > a:first-child),
:global(.menu__caret) {
  font-weight: 600 !important;
  color: var(--theme-text-heading) !important;
  font-size: 0.875rem !important;
  padding: 0.4rem 0.75rem !important;
}

/* Nested menu items */
:global(.menu__list .menu__list) {
  padding-left: 0.75rem !important;
}

/* Hide breadcrumbs */
:global(.theme-doc-breadcrumbs) {
  display: none !important;
}

/* Scrollbar styling for each section */
:global(.theme-doc-sidebar-container)::-webkit-scrollbar,
:global([class*="docItemWrapper"])::-webkit-scrollbar,
:global(.theme-doc-toc-desktop)::-webkit-scrollbar {
  width: 6px;
}

:global(.theme-doc-sidebar-container)::-webkit-scrollbar-track,
:global([class*="docItemWrapper"])::-webkit-scrollbar-track,
:global(.theme-doc-toc-desktop)::-webkit-scrollbar-track {
  background: transparent;
}

:global(.theme-doc-sidebar-container)::-webkit-scrollbar-thumb,
:global([class*="docItemWrapper"])::-webkit-scrollbar-thumb,
:global(.theme-doc-toc-desktop)::-webkit-scrollbar-thumb {
  background: var(--theme-border-default);
  border-radius: 3px;
}

:global(.theme-doc-sidebar-container)::-webkit-scrollbar-thumb:hover,
:global([class*="docItemWrapper"])::-webkit-scrollbar-thumb:hover,
:global(.theme-doc-toc-desktop)::-webkit-scrollbar-thumb:hover {
  background: var(--theme-text-secondary);
}