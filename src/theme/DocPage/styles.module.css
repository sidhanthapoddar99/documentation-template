/* DocPage Layout - Force proper containment */

/* When docs page is active, override the main layout */
:global(body.docs-page-active) :global(.main-wrapper) {
  max-width: 100% !important;
}

/* The actual docs wrapper that contains sidebar + content */
:global(body.docs-page-active) :global(main > div:first-child) {
  max-width: var(--max-width-7xl) !important;
  margin: 0 auto !important;
  width: 100% !important;
  display: flex !important;
  position: relative !important;
  padding: 0 !important;
}

/* Main container that holds sidebar and content */
:global(body.docs-page-active) :global(.docMainContainer) {
  display: flex !important;
  width: 100% !important;
  max-width: var(--max-width-7xl) !important;
  margin: 0 auto !important;
  position: relative !important;
  padding: 0 var(--ifm-spacing-horizontal) !important;
}

/* Override the docs page container */
:global(body.docs-page-active) :global(.docsWrapper) {
  display: flex !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Sidebar positioning within the container */
:global(body.docs-page-active) :global(.theme-doc-sidebar-container) {
  position: sticky !important;
  top: var(--doc-navbar-height) !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  width: var(--doc-sidebar-width) !important;
  flex-shrink: 0 !important;
  overflow-y: auto !important;
  border-right: 1px solid var(--theme-border-subtle) !important;
  background-color: var(--theme-bg-surface) !important;
  margin-left: 0 !important;
  left: auto !important;
}

/* Main content wrapper */
:global(body.docs-page-active) :global(.docItemContainer) {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  flex-direction: row !important;
  width: 100% !important;
}

/* Content padding */
:global(body.docs-page-active) :global(.docItemWrapper) {
  flex: 1 !important;
  min-width: 0 !important;
  padding: 2rem 3rem !important;
}

/* Article width constraint */
:global(body.docs-page-active) :global(article) {
  max-width: var(--doc-content-max-width) !important;
  margin: 0 auto !important;
  width: 100% !important;
}

/* TOC positioning */
:global(body.docs-page-active) :global(.theme-doc-toc-desktop) {
  position: sticky !important;
  top: var(--doc-navbar-height) !important;
  width: var(--doc-toc-width) !important;
  flex-shrink: 0 !important;
  height: calc(100vh - var(--doc-navbar-height)) !important;
  overflow-y: auto !important;
  padding-left: 2rem !important;
  right: auto !important;
}

/* Hide breadcrumbs */
:global(body.docs-page-active) :global(.theme-doc-breadcrumbs) {
  display: none !important;
}

/* Sidebar menu styling */
:global(body.docs-page-active) :global(.theme-doc-sidebar-menu) {
  padding: 1rem !important;
  font-size: 0.875rem !important;
}

/* Menu links */
:global(body.docs-page-active) :global(.menu__link) {
  color: var(--theme-text-secondary) !important;
  padding: 0.5rem 1rem !important;
  border-radius: var(--ifm-global-radius) !important;
  transition: all var(--transition-fast) !important;
  font-weight: 500 !important;
  display: block !important;
}

:global(body.docs-page-active) :global(.menu__link:hover) {
  background-color: var(--theme-bg-primary) !important;
  color: var(--theme-text-primary) !important;
  text-decoration: none !important;
}

:global(body.docs-page-active) :global(.menu__link--active) {
  background-color: var(--color-brand-primary) !important;
  color: white !important;
}

:global(body.docs-page-active) :global(.menu__link--active:hover) {
  background-color: var(--color-brand-primaryHover) !important;
  color: white !important;
}

/* Category styling */
:global(body.docs-page-active) :global(.menu__list-item-collapsible) {
  margin-bottom: 0.25rem !important;
}

:global(body.docs-page-active) :global(.menu__list-item-collapsible > a:first-child) {
  font-weight: 600 !important;
  color: var(--theme-text-heading) !important;
}

/* TOC styling */
:global(body.docs-page-active) :global(.table-of-contents) {
  font-size: 0.875rem !important;
  padding: 0 !important;
}

:global(body.docs-page-active) :global(.table-of-contents__link) {
  color: var(--theme-text-secondary) !important;
  padding: 0.375rem 0 !important;
  display: block !important;
  transition: color var(--transition-fast) !important;
}

:global(body.docs-page-active) :global(.table-of-contents__link:hover),
:global(body.docs-page-active) :global(.table-of-contents__link--active) {
  color: var(--theme-text-primary) !important;
  text-decoration: none !important;
}

:global(body.docs-page-active) :global(.table-of-contents__link--active) {
  color: var(--color-brand-primary) !important;
  font-weight: 500 !important;
}

/* Responsive - Mobile */
@media (max-width: 996px) {
  :global(body.docs-page-active) :global(.docMainContainer) {
    flex-direction: column !important;
    padding: 0 !important;
  }
  
  :global(body.docs-page-active) :global(.theme-doc-sidebar-container) {
    position: fixed !important;
    top: var(--ifm-navbar-height) !important;
    height: 100vh !important;
    width: 100% !important;
    max-width: 320px !important;
    left: 0 !important;
    transform: translateX(-100%) !important;
    transition: transform var(--ifm-transition-fast) !important;
    z-index: var(--ifm-z-index-overlay) !important;
  }
  
  :global(body.docs-page-active) :global(.theme-doc-sidebar-container[class*="visible"]) {
    transform: translateX(0) !important;
  }
  
  :global(body.docs-page-active) :global(.docItemWrapper) {
    padding: 1.5rem !important;
  }
  
  :global(body.docs-page-active) :global(.theme-doc-toc-desktop) {
    display: none !important;
  }
}